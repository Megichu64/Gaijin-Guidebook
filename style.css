* {
    box-sizing: border-box; /* Prevents padding from breaking layouts */
}

img {
    max-width: 100%; /* Ensures images never overflow their container */
    height: auto;
}

/* =========================================
   1. GLOBAL VARIABLES & RESET
   ========================================= */
html {
    scroll-behavior: smooth;
    
    /* This tells the browser: "The top 80px of the screen is OFF LIMITS 
       for scrolling targets." 
       (66px for navbar + 14px breathing room)
    */
    scroll-padding-top: 30px; 
}

/* =========================================
   1. GLOBAL VARIABLES & RESET
   ========================================= */
:root {
    /* LIGHT MODE BACKGROUND: 
       We make this a cool grey (#eef2f5) so the white paper pops against it. */
    --off-white: #eef2f5;
    
    --sakura-pink: #ffb7c5;
    --deep-red: #c30b4e;
    --text-dark: #333;
    --bg-card: #ffffff; 
    --bg-footer: #333333;
}

/* DARK MODE VARIABLES */
body.dark-mode {
    /* DARK MODE BACKGROUND: 
       We keep this pitch black (#121212) so the whole site feels dark. */
    --off-white: #121212; 
    
    --text-dark: #f0f0f0;
    --bg-card: #2c2c2c;
    --deep-red: #ff69b4;
    --bg-footer: #000000;
}

/* --- DARK MODE NEON TEXT GLOW --- */
/* Target all the headers that are Pink/Red in Dark Mode */
body.dark-mode .nav-brand,           
body.dark-mode .footer-col h3 {
    /* 1. Ensure the text is the bright pink variable */
    color: var(--sakura-pink) !important;
    /* 2. Add the soft neon glow */
    text-shadow: 0 0 10px var(--sakura-pink);
}

body {
    font-family: 'Helvetica Neue', sans-serif;
    margin: 0;
    padding: 0;
    
    /* CRITICAL: Use the variable so it switches automatically! */
    background-color: var(--off-white); 
    
    color: var(--text-dark);
    transition: background-color 0.3s, color 0.3s;
}
/* =========================================
   LINK STYLING (Updated for Blog Posts)
   ========================================= */
/* 1. Default (Light Mode) Content Links */
/* Changes the standard blue to your theme's red */
.container a:not(.btn), 
.blog-content a:not(.btn){
    color: var(--deep-red);
    text-decoration: underline;
}

/* 2. Dark Mode Content Links */
/* Changes links to Sakura Pink so they pop against the black background */
body.dark-mode .container a:not(.btn),
body.dark-mode .blog-content a:not(.btn) {
    color: var(--sakura-pink);
}

/* Hover effect for both modes */
.container a:not(.btn):hover,
.blog-content a:not(.btn):hover {
    opacity: 0.8;
    text-decoration: none; /* Removes underline on hover for a clean look */
}

/* =========================================
   2. NAVIGATION (Used on all pages)
   ========================================= */
nav {
    background: var(--bg-card);    padding: 0.5rem 2rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    position: relative;
    z-index: 9999; /* Was 1000. Now it is higher than Leaflet's controls. */
    display: flex;
    justify-content: space-between; /* Pushes logo left, links right */
    align-items: center;
    /* NEW: Adds a safety buffer so items never touch */
    gap: 20px;
}

.nav-brand {
    font-weight: bold;
    font-size: 1.2rem;
    color: var(--deep-red);
    text-transform: uppercase;
    letter-spacing: 2px;
    text-decoration: none;
}

nav ul {
    list-style: none;
    display: flex;
    gap: 30px;
    margin: 0;
    padding: 0;
}

nav a {
    text-decoration: none;
    color: var(--text-dark);
    font-weight: 500;
    font-size: 0.95rem;
    position: relative;
}

/* The "Underline" Hover Effect (EXCEPT for the Logo) */
nav a:not(.nav-brand)::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -5px;
    left: 0;
    background-color: var(--sakura-pink);
    transition: width 0.3s;
}

nav a:not(.nav-brand):hover::after {
    width: 100%;
}

/* --- Logo Styles --- */
.nav-brand {
    display: flex;       /* Aligns the image and text in a row */
    align-items: center; /* Centers them vertically */
    gap: 10px;           /* Adds space between the logo and the text */
}

.nav-logo {
    height: 50px;        /* Sets a fixed height (adjust as needed) */
    width: auto;         /* Keeps the aspect ratio correct */
}

/* =========================================
   3. HOME PAGE SPECIFIC
   ========================================= */
/* --- Hero Section --- */
header {
    background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=1920&q=80');
    background-size: cover;
    background-position: center;
    color: white;
    text-align: center;
    padding: 100px 20px;
}
h1 { font-size: 3rem; margin-bottom: 10px; }
.subtitle { font-size: 1.2rem; font-weight: 300; }

/* Dark-Mode Theme Toggle Button */
#theme-toggle {
    background: none;
    border: 2px solid var(--deep-red);
    color: var(--deep-red);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    margin-left: 20px;
/* Flexbox Center Magic */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0; /* Crucial! */
    transition: background-color 0.3s, color 0.3s;
}
#theme-toggle:hover {
    background-color: var(--deep-red); /* Fills the circle with red */
    color: white; /* Turns the moon/sun icon white */
    transform: rotate(15deg); /* A cute little tilt! */
}

#theme-toggle i {
    margin: 0;        /* Removes phantom side margins */
    line-height: 0;   /* Removes vertical text spacing */
    font-size: 1.1rem; /* Ensures it fits nicely */
}

/* --- Layout Utility --- */
.container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 40px 20px;
}
.section-title {
    border-bottom: 3px solid var(--sakura-pink);
    display: inline-block;
    margin-bottom: 30px;
}

/* --- Currency Converter --- */
/* CONVERTER PAGE STYLES */

.converter-box {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1); /* Soft floaty shadow */
    max-width: 400px;
    margin: 0 auto; /* Centers the box */
    border-top: 6px solid #ff6b6b; /* Accent color top border */
}

.converter-box h3 {
    text-align: center;
    color: #333;
    margin-bottom: 25px;
}

/* Input & Labels */
.input-group, .result-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.converter-box label {
    font-weight: bold;
    color: #555;
    font-size: 0.9rem;
}

.converter-box input {
    width: 100%;
    padding: 12px;
    border: 2px solid #eee;
    border-radius: 8px;
    font-size: 1.1rem;
    transition: 0.3s;
}

.converter-box input:focus {
    border-color: #ff6b6b;
    outline: none;
}

/* The Result Text */
.result-display {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
    font-size: 1.5rem;
    font-weight: bold;
    color: #2d2d2d;
    text-align: center;
    border: 2px dashed #ddd;
}

/* THE SWAP BUTTON */
.swap-btn {
    background: #fff;
    border: 2px solid #eee;
    border-radius: 50%; /* Circle shape */
    width: 45px;
    height: 45px;
    margin: 15px auto; /* Centers it vertically */
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #777;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

.swap-btn:hover {
    background: #ff6b6b;
    border-color: #ff6b6b;
    color: white;
    transform: rotate(180deg) scale(1.1); /* Spin and grow slightly */
    box-shadow: 0 6px 12px rgba(255, 107, 107, 0.3);
}

/* Dark Mode Support */
body.dark-mode .converter-box {
    background: #2d2d2d;
    border-top: 6px solid #ff8e8e;
}
body.dark-mode .converter-box input, 
body.dark-mode .result-display {
    background: #333;
    border-color: #444;
    color: #fff;
}
body.dark-mode .converter-box label {
    color: #ddd;
}
body.dark-mode .swap-btn {
    background: #333;
    border-color: #444;
    color: #ccc;
}
body.dark-mode .swap-btn:hover {
    background: #ff8e8e;
    color: #222;
}

/* --- Phrases/Audio --- */
.phrase-card {
    background: var(--bg-card);    padding: 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-left: 5px solid var(--sakura-pink);
}
.play-btn {
    background: none;
    border: 2px solid var(--text-dark);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    transition: 0.3s;
}
.play-btn:hover { background: var(--text-dark); color: white; }

/* --- Resource Links --- */
.resource-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}
.card {
    background: var(--bg-card);    padding: 20px;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    transition: transform 0.2s;
}
.card:hover { transform: translateY(-5px); }
.btn {
    display: inline-block;
    margin-top: 10px;
    padding: 8px 16px;
    background: var(--deep-red); /* CHANGED from var(--text-dark) */
    color: white;
    text-decoration: none;
    border-radius: 4px;
    transition: opacity 0.3s;
}
.btn:hover {
    opacity: 0.8; /* Slight fade effect on hover */
}

/* --- Sakura Tracker Table --- */
.sakura-tracker {
    margin-top: 50px;
    background: var(--bg-card);    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.sakura-tracker h3 {
    color: var(--deep-red);
    margin-top: 0;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th, td {
    text-align: left;
    padding: 12px;
    border-bottom: 1px solid #eee;
}

th {
    background-color: var(--sakura-pink);
    color: var(--deep-red);
    font-weight: bold;
}

/* --- Status Badges --- */
.badge {
    padding: 5px 10px;
    border-radius: 20px;
    color: white;
    font-size: 0.8rem;
    font-weight: bold;
    text-transform: uppercase;
}

/* Badge Colors */
.badge.not-started {
    background-color: #ccc; /* Grey */
    color: #666;
}

.badge.bloom {
    background-color: #ff69b4; /* Hot Pink */
}

.badge.full {
    background-color: #c30b4e; /* Deep Red */
}

.badge.finished {
    background-color: #4CAF50; /* Green (Leafy) */
}

/* --- Saved Phrases Notebook --- */
.action-buttons {
    display: flex;
    gap: 10px; /* Space between the Heart and Play buttons */
}

.save-btn {
    background: none;
    border: 2px solid #ccc; /* Grey border by default */
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #ccc; /* Grey icon by default */
    font-size: 1.1rem;
}

.save-btn:hover {
    border-color: var(--deep-red);
    color: var(--deep-red);
}

/* When the button has the 'liked' class, make it solid red */
.save-btn.liked {
    background-color: var(--deep-red);
    border-color: var(--deep-red);
    color: white;
}

/* Dark Mode adjustment for the Notebook yellow background */
body.dark-mode #notebook-container {
    background: #2c2c2c !important; /* Override the yellow */
    border-left-color: var(--deep-red) !important;
}
body.dark-mode #notebook-container h3 {
    color: var(--sakura-pink) !important;
}

/* =========================================
   4. FOOTER STYLES
   ========================================= */
footer {
    background-color: var(--bg-footer); /* CHANGED from var(--text-dark) */
    color: white;
    padding-top: 40px;
    margin-top: 60px; /* Pushes footer away from content above */
}

.footer-container {
    max-width: 1000px;
    width: 100%;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 2fr 1fr 1fr; 
    gap: 80px; 
    padding: 0 20px 40px 20px;
    text-align: left;
}

.footer-col h3 {
    color: var(--sakura-pink);
    margin-top: 0; /* NEW: Forces it to the top */
    padding-bottom: 5px;
    margin-bottom: 15px;
    margin-right: 20px;
}

.footer-col h4 {
    border-bottom: 2px solid var(--deep-red);
    display: inline-block;
    margin-top: 0; /* NEW: Forces it to the top */
    padding-bottom: 5px;
    margin-bottom: 15px;
}

.footer-col ul {
    list-style: none; /* Removes the bullets */
    padding: 0;       /* Removes the default indentation */
    margin: 0;        /* Resets default margin */
    padding-bottom: 5px;
    margin-bottom: 15px;
}

.footer-col ul li {
    margin-bottom: 10px;
}

.footer-col a {
    color: #ccc;
    text-decoration: none;
    transition: color 0.3s;
}

.footer-col a:hover {
    color: var(--sakura-pink);
}

/* Social Icons */
.social-icons {
    display: flex;
    margin-top: 10px;
    width: 100%;
    gap: 15px;
    box-align: left;
}

.social-icons a {
    font-size: 1.5rem;
    color: white;
}

.social-icons a:hover {
    color: var(--sakura-pink);
    transform: translateY(-3px); /* Little hop effect */
}

/* Bottom Copyright Bar */
.footer-bottom {
    background-color: #222; /* Slightly darker than main footer */
    text-align: center;
    padding: 15px;
    font-size: 0.9rem;
    color: #888;
}

/* --- Scroll to Top Button --- */
#scrollToTopBtn {
    display: none; /* Hidden by default */
    position: fixed; /* Stays in one spot while scrolling */
    bottom: 20px;
    right: 30px;
    z-index: 99; /* Makes sure it floats on top of everything */
    border: none;
    outline: none;
    background-color: var(--deep-red);
    color: white;
    cursor: pointer;
    padding: 15px;
    border-radius: 50%; /* Makes it a circle */
    font-size: 18px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    transition: background-color 0.3s, transform 0.3s;
}

#scrollToTopBtn:hover {
    background-color: var(--sakura-pink);
    transform: translateY(-3px);
}

/* =========================================
   5. MAIN BLOG PAGE STYLES
   ========================================= */
/* --- Filter Bar Styles --- */
.filter-bar {
    margin-bottom: 30px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 8px 16px;
    border: 2px solid var(--deep-red);
    background: transparent;
    color: var(--deep-red);
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
}

.filter-btn:hover {
    background: var(--sakura-pink);
    color: white;
    border-color: var(--sakura-pink);
}

.filter-btn.active {
    background: var(--deep-red);
    color: white;
}
/* =========================================
   6. BLOG POST STYLES
   ========================================= */
/* The Journal Hero Header*/
   .journal-hero {
    /* The Dark Tint Overlay */
    background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images/blog-header.webp');
    height: 50vh;
    background-size: cover;   /* Ensures it covers the whole box */
    background-position: center; /* Centers the focus */
    display: flex;
    flex-direction: column;
    justify-content: center; /* Vertical center */
    align-items: center;     /* Horizontal center */
    color: white;            /* White text usually looks best on photos */
    border: 1px solid #060000;
    text-shadow: 0 2px 5px rgba(0,0,0,0.7); /* Drop shadow makes text pop! */
}
/* The Blog Post Header */
.post-header {
    height: 50vh;
    background-size: cover;
    background-position: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    text-shadow: 0 2px 5px rgba(0,0,0,0.7);
}

.blog-header {
    background-color: var(--off-white);
    padding: 60px 20px;
    text-align: center;
    border-bottom: 1px solid #ddd;
    /* Optional: Add a subtle pattern or gradient here if you want */
}

.blog-header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    color: var(--text-dark);
}

/* The Stats Bar (Steps, Weather, etc.) */
.stats-bar {
    display: flex;
    justify-content: center;
    gap: 15px; /* Space between pills */
    margin-top: 30px;
    flex-wrap: wrap; /* Allows them to stack on mobile phones */
}

/* --- Stat Box Container --- */
.stat-box {
    background: var(--bg-card);
    padding: 6px 16px 6px 6px; /* Less padding on left for the icon */
    border-radius: 50px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    
    /* 1. Font Settings */
    /* Uses your theme variable so it swaps from Dark Grey (Light Mode) to White (Dark Mode) */
    color: var(--text-dark); 
    font-size: 0.9rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 10px;

    transition: border-color 0.3s, color 0.3s;
}

body.dark-mode .stat-box {
    box-shadow: 0 0 10px var(--sakura-pink);}

/* --- The Icon Bubble (Global Base) --- */
.stat-box i {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;

    /* LIGHT MODE DEFAULT: Red Background, White Icon */
    background-color: var(--deep-red); 
    color: white;
    /* Subtle shadow for the bubble */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* --- DARK MODE SPECIFIC FIX --- */
/* This solves the "Black on Black" issue */
body.dark-mode .stat-box i {
    /* 1. Make the bubble Pink (matches your Dark Mode accent text) */
    background-color: var(--sakura-pink);
    color: var(--bg-footer);
    box-shadow: 0 0 10px var(--sakura-pink);
}

/* The Main Reading Area */
.blog-content {
    max-width: 800px; /* Keeps lines from getting too long to read */
    margin: 0 auto;   /* Centers the block */
    padding: 40px 20px;
    background: var(--bg-card);    line-height: 1.8; /* Improves readability */
    font-size: 1.1rem;
}

/* Blog Section Headings (e.g. "Food", "Landmarks") */
.blog-section-header {
    color: var(--deep-red);
    border-left: 5px solid var(--sakura-pink);
    padding-left: 15px;
    margin-top: 50px;
    margin-bottom: 20px;
}

/* Formatting for vertical/portrait blog images */
.blog-image-vertical {
    max-width: 400px; /* Limits the width so it doesn't fill the screen */
    width: 100%;      /* Ensures it shrinks on mobile phones */
    height: auto;     /* Maintains aspect ratio */
    display: block;   /* Allows us to center it */
    margin: 30px auto; /* Centers the image with space above/below */
    border-radius: 8px; /* Matches your other rounded corners */
    box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* Adds a nice lift */
}

.travel-tip {
    background-color: var(--off-white);
    border-left: 5px solid var(--deep-red);
    padding: 15px 20px;
    margin: 20px 0;
    border-radius: 4px;
    font-style: italic;
}
.travel-tip h4 {
    margin-top: 0;
    color: var(--deep-red);
    font-style: normal;
}

/* Photo Grid */
.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.gallery-grid img {
    width: 100%;
    height: 200px;
    object-fit: cover; /* Prevents stretching/squishing */
    border-radius: 8px;
    transition: transform 0.2s;
    cursor: pointer;
}

.gallery-grid img:hover {
    transform: scale(1.03); /* Slight zoom on hover */
}

/* --- Masonry Gallery (For the "View All" section) --- */
.masonry-gallery {
    column-count: 3; /* Creates 3 vertical columns */
    column-gap: 15px;
    margin-top: 20px;
}

.masonry-gallery img {
    width: 100%;
    margin-bottom: 15px; /* Space between vertical items */
    border-radius: 8px;
    display: block;
    transition: transform 0.2s;
}

.masonry-gallery img:hover {
    transform: scale(1.03);
}

/* Mobile: Switch to 1 or 2 columns so it's not tiny */
@media (max-width: 768px) {
    .masonry-gallery {
        column-count: 2;
    }
}

/* LIGHTBOX STYLES */
.lightbox {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1000; /* Sit on top of everything */
    padding-top: 50px;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.9); /* Black w/ opacity */
}

.lightbox-content {
    margin: auto;
    display: block;
    width: 80%;
    max-width: 800px;
    max-height: 80vh; /* Don't be taller than the screen */
    object-fit: contain;
    border-radius: 5px;
    animation-name: zoom;
    animation-duration: 0.3s;
}

/* Close Button */
.close-lightbox {
    position: absolute;
    top: 15px;
    right: 35px;
    color: #f1f1f1;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}

.close-lightbox:hover,
.close-lightbox:focus {
    color: #bbb;
    text-decoration: none;
    cursor: pointer;
}

/* Add a tiny zoom animation */
@keyframes zoom {
    from {transform:scale(0)}
    to {transform:scale(1)}
}

/* Make images look clickable */
.clickable-img {
    cursor: pointer;
    transition: 0.3s;
}

.clickable-img:hover {
    opacity: 0.8;
}
/* ===========================================
   7. MOBILE RESPONSIVENESS (Phones & Tablets)
   =========================================== */
@media (max-width: 768px) {

    /* 1. Fix the Navigation Bar */
    nav {
        flex-direction: column; /* Stack logo on top of links */
        padding: 1rem;
    }

    nav ul {
        flex-direction: column; /* Stack links vertically */
        align-items: center;
        gap: 15px; /* Smaller gap between links */
        margin-top: 15px;
    }

    /* 2. Fix the "Hero" Headers */
    header h1, .post-header h1, .journal-hero h1 {
        font-size: 2rem; /* Make huge text smaller for phones */
    }
    
    .subtitle {
        font-size: 1rem;
        padding: 0 10px; /* Prevent text touching screen edges */
    }

    /* 3. Fix the "Stats Bar" in Blog Posts */
    .stats-bar {
        flex-direction: column; /* Stack the pills vertically */
        align-items: center;
        gap: 10px;
    }

    /* 4. Fix Tables (The Horizontal Scroll Trick) */
    /* This wraps tables in a scroll bar so the WHOLE PAGE doesn't scroll */
    table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
    
    /* 5. Adjust Layout Containers */
    .container {
        padding: 20px 15px; /* Reduce padding on small screens */
    }
    
    .footer-container {
        grid-template-columns: 1fr; /* Stack footer columns */
        text-align: center;
        gap: 80px; /* More space between stacked columns */
    }
    
    /* Fix the Blog Header Image on Mobile */
    .journal-hero {
        /* TEST: Ensure the image is still there! */
        background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images/blog-header.png');

        /* Force a minimum height so it doesn't collapse */
        min-height: 300px;
        height: 40vh; 
        
        /* Adjust focus for faces */
        background-position: 50% 20%; 
        background-size: cover;
    }
    .social-icons {
        justify-content: center;
        margin-top: 10px;
    }
    /* FIX FOR DARK MODE BUTTON ON MOBILE */
    #theme-toggle {
        margin-left: 0;   /* Resets the "push to right" so it centers perfectly */
        margin-top: 20px; /* Adds breathing room between the links and the button */
    }
}
/* ===========================================
   8. 404 PAGE STYLES
   =========================================== */
.lost-icon i {
    animation: wiggle 2s infinite ease-in-out;
}

@keyframes wiggle {
    0%, 100% { transform: rotate(-10deg); }
    50% { transform: rotate(10deg); }
}

/* =========================================
   9. TRAVEL CHECKLIST STYLES
   ========================================= */
/* 1. The Container for each Item */
.checklist-item.accordion {
    display: flex;
    flex-direction: column; 
    align-items: flex-start;
    padding: 10px 15px;
    
    /* LIGHT MODE: Make it darker (#ccc) so you can actually see it */
    border-bottom: 1px solid #ccc; 
    
    transition: background-color 0.2s;
}

/* DARK MODE: Keep it light (#444 or #555) so it doesn't vanish on black */
body.dark-mode .checklist-item.accordion {
    border-bottom: 1px solid #555;
}
/* 2. The Top Row (Checkbox + Text + Arrow) */
/* 2. The Top Row (Checkbox + Text + Arrow) */
.item-header {
    display: flex;
    align-items: center; /* Aligns them vertically in the center */
    width: 100%;
    gap: 10px; /* Controls the space between Checkbox, Text, and Arrow */
}

.item-header label {
    /* REMOVED: flex-grow: 1; -> This stops pushing the arrow away */
    cursor: pointer;
    font-weight: 500;
    font-size: 1.05rem;
    line-height: 1.4; /* Improves readability if text wraps */
}

/* Optional: Make the arrow slightly smaller/subtle since it's closer now */
.toggle-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: #999; /* Softer grey so it doesn't distract */
    font-size: 0.8rem; /* Slightly smaller */
    padding: 5px;
    transition: transform 0.3s ease, color 0.3s;
    margin-top: 2px; /* Micro-adjustment to align perfectly with text */
}

.toggle-btn:hover {
    color: var(--deep-red);
    background-color: transparent;
}

/* 4. THE MAGIC: Hiding the Details */
.item-details {
    max-height: 0;       /* Start with height 0 (invisible) */
    overflow: hidden;    /* Cut off anything that sticks out */
    width: 100%;
    margin-left: 30px;   /* Indent to align with text */
    opacity: 0;          /* Make it fully transparent */
    transition: all 0.3s ease-in-out; /* Animate the opening */
}

.item-details p {
    margin: 10px 0 5px 0;
    font-size: 0.9rem;
    color: #666;
    line-height: 1.5;
    background-color: #fafafa;
    padding: 10px;
    border-radius: 8px;
    border-left: 3px solid var(--deep-red);
}

/* 5. ACTIVE STATE (When you click the arrow) */
/* The Javascript adds the class 'active', and this CSS makes it expand */
.accordion.active .item-details {
    max-height: 200px; /* Expands to show the text */
    opacity: 1;        /* Fades in */
    margin-top: 5px;
}

.accordion.active .toggle-btn {
    transform: rotate(180deg); /* Flips the arrow upside down */
}

/* Dark Mode Support */
body.dark-mode .item-details p {
    background-color: #333;
    color: #ccc;
    border-left-color: var(--sakura-pink);
}

body.dark-mode .toggle-btn {
    color: var(--sakura-pink);
}
/* LIGHT MODE (Default) Category Headers */
.category-title {
    color: var(--deep-red);       /* Strong red text */
    border-bottom: 2px solid #ddd;/* Subtle grey line underneath */
    padding-bottom: 8px;          /* Space between text and line */
    margin-top: 40px;             /* Breathing room above */
    font-size: 1.5rem;            /* Make it slightly larger */
    letter-spacing: 0.5px;        /* Slightly wider text for elegance */
}
/* =========================================
   10. DARK MODE FIXES (Checklist)
   ========================================= */

/* Fix 1: The Phase Headers (Phase 1, Phase 2...) 
   In dark mode, the "Deep Red" text on "Sakura Pink" background 
   is okay, but sometimes we want high contrast. 
   Let's make sure the text is dark enough to read on the pink.
*/
/* ... WITH THIS NEW BLOCK */
body.dark-mode .category-title {
    color: var(--sakura-pink) !important; /* Bright Pink Text */
    border-bottom: 2px solid var(--deep-red); /* Adds a line underneath */
    padding-bottom: 8px;       /* Spacing between text and line */
    margin-top: 40px;          /* Extra breathing room above the header */
    text-shadow: 0 0 8px rgba(255, 183, 197, 0.3); /* Subtle neon glow */
}

/* Fix 2: The Checklist Item Text
   Ensures the list items (Passport, etc.) turn white in dark mode 
*/
body.dark-mode .checklist-item label {
    color: var(--text-dark); /* Uses your white text variable */
}

/* Fix 3: The Reset Button
   Currently, it's white text on a white background (invisible!).
   We will make it a dark grey button with white text.
*/
body.dark-mode #reset-checklist-btn {
    background-color: #444; /* Dark grey button */
    color: white;           /* White text */
    border: 1px solid #666; /* Subtle border */
}

body.dark-mode #reset-checklist-btn:hover {
    background-color: var(--deep-red); /* Turns pink/red on hover */
    border-color: var(--deep-red);
}
/* =========================================
   THE "SHEET OF PAPER" LOOK
   ========================================= */
.checklist-container {
    background-color: #ffffff; /* Crisp White Paper */
    max-width: 750px;          /* Width of a standard paper sheet */
    margin: 40px auto;         /* Centers the paper on the desk (screen) */
    
    /* The "Margins" of the paper */
    padding: 60px 80px;        
    
    /* The "Lift" - Makes it look 3D */
    box-shadow: 0 20px 50px rgba(0,0,0,0.1); 
    
    border-radius: 4px;        /* Very slightly rounded corners (like real paper) */
    position: relative;        /* Setup for potential future decorations */
}

/* MOBILE FIX: Real paper margins are too big for phones! */
@media (max-width: 768px) {
    .checklist-container {
        padding: 30px 20px; /* Reduce padding significantly on mobile */
        margin: 20px auto;
        width: 95%;         /* Take up most of the screen width */
    }
}

/* DARK MODE: "Neon Slate" Look */
body.dark-mode .checklist-container {
    /* 1. Background: Keep the dark slate */
    background-color: #1e1e1e; 
    
    /* 2. Border: Switch to Sakura Pink so the edge source is bright */
    border: 1px solid var(--sakura-pink);
    
    /* 3. THE GLOW: Two layers of shadow to create the neon effect 
       - Layer 1 (5px): Tight, bright light right on the edge
       - Layer 2 (20px): Soft, ambient light fading out
    */
    box-shadow: 0 0 5px var(--sakura-pink), 
                0 0 20px rgba(255, 183, 197, 0.4); 
    
    /* 4. Text Color */
    color: #e0e0e0;
}

/* Fix for the "Details" box in Dark Mode so it blends in */
body.dark-mode .item-details p {
    background-color: #252525; /* Slightly lighter than the paper */
    color: #ccc;
    border-left: 3px solid var(--sakura-pink);
}
/* =========================================
   MODERN RESET BUTTON
   ========================================= */
#reset-checklist-btn {
    display: block;
    width: 100%;
    max-width: 250px;       /* Keeps it from getting too wide */
    margin: 40px auto 0;    /* Centers it and adds space above */
    
    padding: 12px 30px;     /* Nice roomy internal spacing */
    
    /* THE MODERN LOOK */
    background-color: transparent; 
    border: 2px solid var(--deep-red);
    color: var(--deep-red);
    
    border-radius: 50px;    /* The "Pill Shape" (No more angular corners!) */
    
    font-size: 0.9rem;
    font-weight: 700;       /* Bold text */
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    
    /* Smooth Animation */
    transition: all 0.3s ease;
}

/* Hover Effect (Light Mode) */
#reset-checklist-btn:hover {
    background-color: var(--deep-red);
    color: white;
    transform: translateY(-2px); /* Slight lift up */
    box-shadow: 0 5px 15px rgba(195, 11, 78, 0.3); /* Soft shadow below */
}

/* --- DARK MODE VERSION --- */
body.dark-mode #reset-checklist-btn {
    border-color: var(--sakura-pink); /* Switch to Neon Pink */
    color: var(--sakura-pink);
    background-color: transparent;
}

/* Hover Effect (Dark Mode) */
body.dark-mode #reset-checklist-btn:hover {
    background-color: var(--sakura-pink);
    color: #1e1e1e; /* Dark text on the bright pink button */
    border-color: var(--sakura-pink);
    
    /* The Neon Glow */
    box-shadow: 0 0 20px var(--sakura-pink);
}
/* =========================================
   11. IMMERSIVE GLASS CAROUSEL (UPDATED)
   ========================================= */
.carousel {
    position: relative;
    /* Taller height for more impact */
    height: 500px; 
    width: 100%;
    margin: 0 auto;
    overflow: hidden;
    border-radius: 12px; /* Softer corners */
    box-shadow: 0 10px 30px rgba(0,0,0,0.3); /* Deep shadow for pop */
}

.carousel-track-container {
    height: 100%;
    position: relative;
    background-color: #000; /* Fallback color */
}

.carousel-track {
    padding: 0;
    margin: 0;
    list-style: none;
    position: relative;
    height: 100%;
}

.carousel-slide {
    position: absolute;
    top: 0; bottom: 0; left: 0; right: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    /* NEW - FIXES LAG: Hides the heavy glass effect when not in use */
    visibility: hidden; 
    transition: opacity 0.8s ease-in-out, visibility 0.8s;
    display: flex;
    align-items: center; 
    justify-content: center;
}

.carousel-slide.current-slide {
    opacity: 1;          /* <--- This was missing! It makes the ghost visible again. */
    z-index: 1;          /* <--- Ensures it sits on top */
    /* NEW - FIXES LAG: Makes it visible only when active */
    visibility: visible;
}

/* THE IMAGE: Takes up the full space now */
.carousel-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures it fills the box perfectly */
    position: absolute; /* Puts it behind the text */
    top: 0; left: 0;
    z-index: -1;
    /* Optional: Slight dark tint so text pops */
    filter: brightness(0.85); 
}

/* THE GLASS OVERLAY: The modern "Card" */
.glass-overlay {
    background: rgba(255, 255, 255, 0.15); /* Very see-through white */
    backdrop-filter: blur(12px);           /* The "Frost" effect */
    -webkit-backdrop-filter: blur(12px);   /* Safari support */
    
    padding: 30px 40px;
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.3); /* Subtle white border */
    
    max-width: 500px; /* Width of the text box */
    text-align: center;
    color: white;
    
    /* Animation: Slide up slightly when appearing */
    transform: translateY(20px);
    transition: transform 0.8s ease-out;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
    /* NEW - FIXES LAG: Tells the browser to use the GPU */
    will-change: transform;
}

/* When the slide is active, move the card into place */
.carousel-slide.current-slide .glass-overlay {
    transform: translateY(0);
}

/* Text Styling inside the glass */
.glass-overlay h3 {
    margin-top: 0;
    font-size: 2.2rem;
    margin-bottom: 10px;
    color: white; /* Force white text */
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.glass-overlay p {
    font-size: 1.1rem;
    margin-bottom: 20px;
    color: #f0f0f0;
}

/* Buttons and Dots (Keep mostly same, just tweaked colors) */
.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.2); /* Transparent white */
    color: white;
    border: 1px solid rgba(255,255,255,0.5);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 10;
    font-size: 1.2rem;
    transition: all 0.3s;
    backdrop-filter: blur(5px);
}

.carousel-btn:hover {
    background: white;
    color: var(--deep-red);
}

.btn-left { left: 20px; }
.btn-right { right: 20px; }

.carousel-nav {
    position: absolute;
    bottom: 20px;
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 12px;
    z-index: 10;
}

.carousel-indicator {
    border: 2px solid white;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: transparent;
    cursor: pointer;
    transition: background 0.3s;
}

.carousel-indicator.current-slide {
    background: white;
}

/* MOBILE ADJUSTMENTS */
@media (max-width: 768px) {
    .carousel { height: 450px; }
    .glass-overlay {
        width: 85%; /* Make card wider on phone */
        padding: 20px;
    }
    .glass-overlay h3 { font-size: 1.5rem; }
}